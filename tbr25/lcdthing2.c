#include <jl_br25_regs.h>
#include <jl_irq.h>
#include <xprintf.h>

void uputc(int c) {
	JL_UART2->BUF = c;
	while (!(JL_UART2->CON0 & (1<<15)));
	JL_UART2->CON0 |= (1<<13);
}


void hexdump(void *ptr, int len) {
	for (int i = 0; i < len; i += 16) {
		xprintf("%08x: ", ptr+i);

		for (int j = 0; j < 16; j++) {
			if (i+j < len)
				xprintf("%02X ", *(uint8_t*)(ptr+i+j));
			else
				xputs("-- ");
		}

		xputs(" |");

		for (int j = 0; j < 16; j++) {
			uint8_t c = ' ';
			if (i+j < len) {
				c = *(uint8_t*)(ptr+i+j);
				if (c < 0x20 || c >= 0x7f) c = '.';
			}
			xputc(c);
		}

		xputs("|\n");
	}

	xputc('\n');
}

/*=========================================================================*/

void dbi_send_cmd(uint8_t cmd) {
	JL_PORTB->OUT &= ~(1<<4);	/* D/C# low */

	JL_SPI2->CON &= ~(1<<12);	/* tx */
	JL_SPI2->BUF = cmd;

	while (!(JL_SPI2->CON & (1<<15)));
	JL_SPI2->CON |= (1<<14);
}

void dbi_send_data(uint8_t data) {
	JL_PORTB->OUT |= (1<<4);	/* D/C# hi */

	JL_SPI2->CON &= ~(1<<12);	/* tx */
	JL_SPI2->BUF = data;

	while (!(JL_SPI2->CON & (1<<15)));
	JL_SPI2->CON |= (1<<14);
}

void dbi_send_data_buff(const void *ptr, int len) {
	JL_PORTB->OUT |= (1<<4);	/* D/C# hi */

	JL_SPI2->CON &= ~(1<<12);	/* tx */
	JL_SPI2->ADR = (uint32_t)ptr;
	JL_SPI2->CNT = len;

	while (!(JL_SPI2->CON & (1<<15)));
	JL_SPI2->CON |= (1<<14);
}

void dbi_select(int sel) {
	if (sel) {
		JL_PORTC->OUT &= ~(1<<5);	/* CS# low */
	} else {
		JL_PORTC->OUT |= (1<<5);	/* CS# hi */
	}
}

void dbi_setwindow(int x, int y, int w, int h) {
	w = x + w - 1;
	h = y + h - 1;

	dbi_send_cmd(0x2A);
		dbi_send_data(x>>8);
		dbi_send_data(x>>0);
		dbi_send_data(w>>8);
		dbi_send_data(w>>0);

	dbi_send_cmd(0x2B);
		dbi_send_data(y>>8);
		dbi_send_data(y>>0);
		dbi_send_data(h>>8);
		dbi_send_data(h>>0);
}

void init_display(void) {
	/*
	 * PB4 = D/C#
	 * PB6 = SCLK
	 * PB7 = SDAT
	 * PC4 = RST#
	 * PC5 = CS#
	 */

	JL_PORTB->DIR &= ~((1<<4)|(1<<6)|(1<<7));
	JL_PORTC->DIR &= ~((1<<4)|(1<<5));

	reg_wsmask(JL_IOMAP->CON1, 16, 0x1, 'A'-'A');
	JL_SPI2->CON = (1<<14)|(1<<5)|(1<<0);
	JL_SPI2->BAUD = 1-1;

	JL_PORTC->OUT |= (1<<5);	/* CS# hi */

	JL_PORTC->OUT &= ~(1<<4);	/* RST# low */
	for (volatile int i = 100000; i; i--);
	JL_PORTC->OUT |= (1<<4);	/* RST# hi */

	/* Send init commands */ 
	dbi_select(1);

	const uint8_t initcmds[] = {
		1, 0x01,			// soft reset
		1, 0x11,			// get out of sleep mode
		1, 0x28,			// turn off display

		1, 0xfe,
		1, 0xef,
		2, 0xb3, 0x2b,
		2, 0xb5, 0x01,
		2, 0xb6, 0x11,
		2, 0xac, 0x0b,
		2, 0xb4, 0x21,
		2, 0xb1, 0xc8,
		2, 0xc0, 0xc3,
		3, 0xc6, 0x1f, 0x00,
		3, 0xf8, 0x80, 0x06,
		3, 0xf3, 0x01, 0x03,
		3, 0xf5, 0x48, 0x90,
		2, 0xb2, 0x0d,
		2, 0xea, 0x65,
		3, 0xeb, 0x75, 0x66,
		2, 0xb0, 0x3d,
		2, 0xc2, 0x0d,
		2, 0xc3, 0x4c,
		2, 0xc4, 0x10,
		2, 0xc5, 0x10,
		3, 0xe6, 0x40, 0x27,
		3, 0xe7, 0x60, 0x07,
		2, 0xa3, 0x12,
		15, 0xf0, 0x17, 0x39, 0x1b, 0x4e, 0x95, 0x32, 0x33, 0x00, 0x12, 0x0a, 0x09, 0x12, 0x12, 0x0f,
		15, 0xf1, 0x17, 0x39, 0x1b, 0x4e, 0x65, 0x32, 0x33, 0x00, 0x12, 0x0a, 0x09, 0x0e, 0x0c, 0x0f,
		1, 0xfe,
		1, 0xef,

		1, 0x13,			// set normal display (partial mode off)
		1, 0x29,			// turn on display

		//1, 0x38 | 1,			/* idle mode */
		//1, 0x20 | 0,			/* display inversion */

		0,
	};

	for (const uint8_t *cmd = initcmds; *cmd; ) {
		uint8_t clen = *cmd++;

		dbi_send_cmd(cmd[0]);
		if (cmd[0] == 0x01) {
			for (volatile int i = 100000; i; i--);
		}

		for (int i = 1; i < clen; i++)
			dbi_send_data(cmd[i]);

		cmd += clen;
	}

	dbi_select(0);
}

/*=========================================================================*/

void init_sfc(void) {
	/*
	 * PD0 = SCK
	 * PD1 = DI / IO0 (mosi)
	 * PD2 = DO / IO1 (miso)
	 * PD3 = CS#
	 * PD4 = Power
	 */

	/* Init I/O */
	JL_PORTD->DIR &= ~((1<<0)|(1<<1)|(1<<3)|(1<<4));
	JL_PORTD->DIR |= (1<<2);
	JL_PORTD->PU |= (1<<1)|(1<<2);
	JL_PORTD->OUT |= (1<<3)|(1<<4);

	reg_wsmask(JL_IOMAP->CON0, 2, 0x1, 'A'-'A');	/* spi0 map A */
	reg_wsmask(JL_IOMAP->CON1, 5, 0x1, 'A'-'A');	/* sfc map A */

	/* SFC init */
	JL_SFC->CON = 0xf00000;
	JL_SFC->CON = 0;

	JL_SFC->BAUD = 1-1;

	JL_SFC->BASE_ADR = 0x10000;

	JL_SFC->CON =
		(0<<25) |	/* read JEDEC ID (command 0x9F) */
		(2<<20) |	/* ? */
		(8<<16) |	/* Dummy bit count */
		(2<<8) |	/* SPI mode */
		(1<<7) |	/* ? */
		(0<<3)		/* DO/DI combine */
	;

	JL_SFCENC->CON = 0;

	/* Enable SFC */
	JL_SPI0->CON &= ~(1<<0);	/* disable SPI0 */
	JL_SFC->CON |= (1<<0);		/* enable SFC */

	/* Enable SFC map */
	JL_DSP->CON &= ~(1<<8);		/* disable SFC map */
	memset((void *)0xf8000, 0x55, 0x4000);	/* clear icache data */
	memset((void *)0xfc000, 0x00, 0x1c00);	/* clear icache tag */
	JL_DSP->CON |= (1<<8);		/* enable SFC map */
}

/* Z:\mnt\henta\Fonts\FONTS\AIXOID9.F20 (3/25/2019 1:45:02 AM)
   StartOffset(h): 00000000, EndOffset(h): 000013FF, Length(h): 00001400 */

const uint8_t Aixoid_9x20[5120] = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x7E, 0xC3, 0xA5, 0xA5, 0x81, 0xA5, 0x99, 0x42, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x7E, 0xFF, 0x99, 0x99, 0xFF, 0xBD, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x44, 0xEE, 0xFE, 0xFE, 0xFE, 0x7C, 0x7C, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x7C, 0xFE, 0xFE, 0x7C, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x3C, 0x3C, 0x5A, 0xFF, 0xFF, 0xFF, 0x5A, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x7E, 0x7E, 0xFF, 0xFF, 0xFF, 0x5A, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1C, 0x3E, 0x3E, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xE3, 0xC1, 0xC1, 0xE3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xC3, 0x99, 0xBD, 0xBD, 0xBD, 0x99, 0xC3, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x0F, 0x07, 0x07, 0x3D, 0x6C, 0xC6, 0xC6, 0xC6, 0xC6, 0x6C, 0x38, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0xC3, 0x66, 0x3C, 0x18, 0x7E, 0x18, 0x18, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x10, 0x18, 0x1C, 0x1E, 0x16, 0x12, 0x12, 0x14, 0x10, 0x10, 0x70, 0xF0, 0xE0, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x10, 0x18, 0x1C, 0x16, 0x13, 0x19, 0x1D, 0x17, 0x13, 0x71, 0xF1, 0xE1, 0x07, 0x0F, 0x0E, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x08, 0x08, 0x89, 0x52, 0x5C, 0x37, 0xA2, 0x76, 0x1E, 0x65, 0x89, 0x08, 0x08, 0x00, 0x00, 0x00,

	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xF0, 0xFC, 0xFF, 0xFC, 0xF0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0F, 0x3F, 0xFF, 0x3F, 0x0F, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x3C, 0x18, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x44, 0xEE, 0xEE, 0xEE, 0xEE, 0xEE, 0xC6, 0x44, 0x44, 0x00, 0x44, 0xEE, 0x44, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7E, 0xD4, 0xD4, 0xD4, 0xD4, 0xD4, 0x74, 0x14, 0x14, 0x14, 0x14, 0x34, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0x66, 0x30, 0x38, 0x6C, 0x66, 0x36,
	0x1C, 0x0C, 0x66, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x7E, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x7E, 0x3C, 0x18, 0xFF, 0xFF, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x7E, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x3C, 0x18,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x04, 0x06, 0xFF, 0xFF, 0x06, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x60, 0xFF, 0xFF,
	0x60, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xC0, 0xC0, 0xC0, 0xFF, 0xFF, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x24, 0x66, 0xFF, 0xFF, 0x66, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x10, 0x38, 0x38, 0x7C, 0x7C,
	0xFE, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0xFE, 0xFE, 0x7C, 0x7C, 0x38, 0x38, 0x10, 0x10, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x38, 0x38, 0x38, 0x38, 0x10, 0x10,
	0x10, 0x00, 0x10, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x66, 0x66, 0x66, 0x24, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1B, 0x1B, 0x12, 0x12, 0x7F,
	0x7F, 0x24, 0x24, 0xFE, 0xFE, 0x48, 0x48, 0xD8, 0xD8, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x10, 0x10, 0x7E, 0xD6, 0xD2, 0xD0, 0xF0, 0x7C, 0x1E,
	0x16, 0x96, 0xD6, 0xFC, 0x10, 0x10, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x03, 0x7E, 0xE6, 0xAC, 0xEC, 0xD8, 0x18, 0x33, 0x37, 0x65, 0x67, 0xE6,
	0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x6C, 0x64, 0x6C,
	0x38, 0x30, 0x70, 0xDB, 0xDA, 0xCC, 0xED, 0x77, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x10, 0x20, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x0C, 0x18, 0x18, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x18, 0x18,
	0x0C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x18, 0x18, 0x0C,
	0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x18, 0x18, 0x30, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0xDB, 0xE7, 0x18,
	0x24, 0x66, 0x66, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0xFF, 0xFF, 0x18, 0x18, 0x18, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x18, 0x18, 0x30, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38,
	0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x02, 0x06, 0x04,
	0x0C, 0x08, 0x18, 0x10, 0x30, 0x20, 0x60, 0x40, 0xC0, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x38, 0x4C, 0x4C, 0xC6, 0xC6, 0xC6, 0xC6, 0xC6,
	0xC6, 0xC6, 0x64, 0x64, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08,
	0x18, 0x38, 0x78, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3E,
	0x7E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7C, 0xCE, 0xC6, 0x86,
	0x06, 0x06, 0x0C, 0x18, 0x30, 0x60, 0xC2, 0xFE, 0xFC, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7C, 0xCE, 0x86, 0x06, 0x0C, 0x38, 0x0C, 0x06,
	0x06, 0x06, 0x86, 0xCC, 0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x04, 0x0C, 0x1C, 0x1C, 0x2C, 0x2C, 0x4C, 0x4C, 0x8C, 0xFF, 0x0C, 0x0C,
	0x1E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7E, 0x7C, 0x40, 0x40,
	0x5C, 0x66, 0x43, 0x03, 0x03, 0x03, 0x86, 0xCC, 0x78, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x02, 0x0C, 0x18, 0x30, 0x60, 0x60, 0xC0, 0xDC, 0xE6,
	0xC3, 0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFF, 0xFF, 0x82, 0x04, 0x0C, 0x18, 0x18, 0x30, 0x30, 0x70, 0x60, 0x60,
	0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x6C, 0xC6, 0xC6,
	0xE4, 0x78, 0x38, 0x3C, 0x4E, 0xC6, 0xC6, 0xC6, 0x7C, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x78, 0xCC, 0xC6, 0xC6, 0xC6, 0x66, 0x3E, 0x0E,
	0x0C, 0x0C, 0x18, 0x30, 0x60, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x10, 0x00, 0x00, 0x00, 0x10, 0x38,
	0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x10, 0x38, 0x10, 0x00, 0x00, 0x00, 0x10, 0x38, 0x08, 0x18, 0x30, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0F, 0x3C, 0xF0, 0xF0,
	0x3C, 0x0F, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0,
	0xF0, 0x3C, 0x0F, 0x0F, 0x3C, 0xF0, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x38, 0x6C, 0xC6, 0xE6, 0x46, 0x0C, 0x18, 0x30,
	0x10, 0x00, 0x10, 0x38, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x3E, 0x63, 0xC1, 0x9D, 0xBD, 0xB5, 0xB5, 0xB7, 0x9A, 0xC0, 0x61, 0x3E,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x18, 0x18, 0x3C,
	0x2C, 0x2C, 0x26, 0x7E, 0x46, 0x43, 0xC3, 0xE7, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xFC, 0x66, 0x66, 0x66, 0x66, 0x7C, 0x66, 0x63,
	0x63, 0x63, 0x66, 0xFC, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x1D, 0x37, 0x63, 0x61, 0x61, 0x60, 0x60, 0x60, 0x61, 0x61, 0x33, 0x1E,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFC, 0x66, 0x63, 0x63,
	0x63, 0x63, 0x63, 0x63, 0x63, 0x63, 0x66, 0xFC, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0x63, 0x61, 0x60, 0x64, 0x7C, 0x64, 0x60,
	0x60, 0x61, 0x63, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFF, 0x63, 0x61, 0x60, 0x64, 0x7C, 0x64, 0x60, 0x60, 0x60, 0x60, 0xF0,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3A, 0x6E, 0xC6, 0xC2,
	0xC0, 0xC0, 0xCF, 0xC7, 0xC6, 0xC6, 0x6E, 0x3A, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xEF, 0x66, 0x66, 0x66, 0x66, 0x7E, 0x66, 0x66,
	0x66, 0x66, 0x66, 0xEF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x7E, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7E,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3E, 0x0C, 0x0C, 0x0C,
	0x0C, 0x0C, 0x0C, 0x0C, 0xCC, 0xCC, 0x8C, 0x78, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xF7, 0x66, 0x64, 0x6C, 0x78, 0x70, 0x78, 0x6C,
	0x6C, 0x66, 0x66, 0xF7, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xF0, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x61, 0x63, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC3, 0x42, 0x66, 0x66,
	0x7E, 0x7E, 0x5A, 0x5A, 0x42, 0x42, 0x42, 0xE7, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xC7, 0x62, 0x62, 0x72, 0x72, 0x5A, 0x5A, 0x4E,
	0x4E, 0x46, 0x46, 0xE2, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0x66, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFE, 0x67, 0x63, 0x63,
	0x63, 0x67, 0x7E, 0x60, 0x60, 0x60, 0x60, 0xF0, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3,
	0xDB, 0xCB, 0x6E, 0x3C, 0x0C, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFC, 0x66, 0x66, 0x66, 0x66, 0x6C, 0x78, 0x6C, 0x66, 0x66, 0x63, 0xF3,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7A, 0xCE, 0x86, 0xC2,
	0xE0, 0x78, 0x3C, 0x0E, 0x86, 0xC2, 0xE6, 0xBC, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0xDB, 0x99, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xF7, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF7, 0x63, 0x62, 0x72,
	0x36, 0x34, 0x34, 0x1C, 0x1C, 0x18, 0x08, 0x08, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xC3, 0xC3, 0xC3, 0xC3, 0xDB, 0xDB, 0xDB, 0x7E,
	0x6E, 0x66, 0x66, 0x42, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xE7, 0x63, 0x66, 0x34, 0x34, 0x18, 0x18, 0x2C, 0x2C, 0x66, 0xC6, 0xE7,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF7, 0x62, 0x62, 0x24,
	0x34, 0x1C, 0x18, 0x18, 0x18, 0x18, 0x18, 0x3C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xFE, 0xC6, 0x8C, 0x8C, 0x18, 0x18, 0x30, 0x30,
	0x62, 0x62, 0xC6, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x3E, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x30, 0x3E,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x40, 0x60, 0x20,
	0x30, 0x10, 0x18, 0x08, 0x0C, 0x04, 0x06, 0x02, 0x03, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C,
	0x0C, 0x0C, 0x0C, 0x7C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38,
	0x6C, 0xC6, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x30, 0x10, 0x08, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7C, 0xC6, 0xC6, 0x1E, 0x66, 0xC6, 0xCE, 0x73,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x60, 0x60, 0x60,
	0x7C, 0x76, 0x63, 0x63, 0x63, 0x63, 0x76, 0xDC, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC6, 0xC0,
	0xC0, 0xC2, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x0E, 0x06, 0x06, 0x06, 0x3E, 0x6E, 0xC6, 0xC6, 0xC6, 0xC6, 0x6E, 0x3B,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x3C, 0x66, 0xC6, 0xFE, 0xC0, 0xC0, 0x62, 0x3C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x1E, 0x33, 0x33, 0x30, 0x30, 0x7C, 0x30, 0x30,
	0x30, 0x30, 0x30, 0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7B, 0xCD, 0xCC, 0xCC, 0x78, 0x80, 0xFC, 0x7E,
	0x82, 0xC6, 0x7C, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x60, 0x60, 0x60,
	0x7C, 0x76, 0x66, 0x66, 0x66, 0x66, 0x66, 0xEF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x10, 0x00, 0x78, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x7E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x08, 0x1C, 0x08, 0x00, 0x3C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C, 0x0C,
	0xCC, 0xCC, 0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x60, 0x60, 0x60,
	0x67, 0x66, 0x6C, 0x78, 0x78, 0x6C, 0x66, 0xF7, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x78, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x7E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xB6, 0xDB, 0xDB, 0xDB, 0xDB, 0xDB, 0xDB, 0xDB,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xDC, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0xEF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC3, 0xC3,
	0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xDC, 0x76, 0x63, 0x63, 0x63, 0x63, 0x66, 0x7C,
	0x60, 0x60, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x3A, 0x66, 0xC6, 0xC6, 0xC6, 0xC6, 0x66, 0x3E, 0x06, 0x06, 0x0F, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xDE, 0x73, 0x63, 0x60,
	0x60, 0x60, 0x60, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x7A, 0xC6, 0xC2, 0x70, 0x1C, 0x86, 0xC6, 0xBC,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x10, 0x30, 0x30,
	0xFE, 0x30, 0x30, 0x30, 0x30, 0x30, 0x32, 0x1C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xEE, 0x66, 0x66, 0x66,
	0x66, 0x66, 0x6E, 0x3B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xE7, 0x62, 0x62, 0x34, 0x34, 0x3C, 0x18, 0x18,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xC3, 0xC3, 0xDB, 0xDB, 0xDB, 0x6E, 0x66, 0x42, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xE7, 0x66, 0x34, 0x18,
	0x18, 0x2C, 0x66, 0xE7, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xF7, 0x62, 0x62, 0x34, 0x34, 0x18, 0x18, 0x10,
	0x10, 0xA0, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFE, 0xC6, 0x8C, 0x18, 0x30, 0x62, 0xC6, 0xFE, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x0E, 0x18, 0x18, 0x18, 0x18, 0x30, 0x60, 0x30,
	0x18, 0x18, 0x18, 0x18, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x18, 0x18, 0x18,
	0x18, 0x0C, 0x06, 0x0C, 0x18, 0x18, 0x18, 0x18, 0x70, 0x00, 0x00, 0x00,
	0x00, 0x71, 0xDB, 0x8E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x18, 0x18, 0x2C, 0x2C, 0x46, 0x46, 0x83, 0xFF, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1D, 0x37, 0x63, 0x61,
	0x61, 0x60, 0x60, 0x60, 0x61, 0x61, 0x33, 0x1E, 0x1C, 0x06, 0x1C, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x6C, 0x6C, 0x00, 0xEE, 0x66, 0x66, 0x66,
	0x66, 0x66, 0x6E, 0x3B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x0E, 0x18, 0x00, 0x3C, 0x66, 0xC6, 0xFE, 0xC0, 0xC0, 0x62, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x6C, 0x00,
	0x7C, 0xC6, 0xC6, 0x1E, 0x66, 0xC6, 0xCE, 0x73, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x6C, 0x6C, 0x00, 0x7C, 0xC6, 0xC6, 0x1E,
	0x66, 0xC6, 0xCE, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x60, 0x70, 0x18, 0x00, 0x7C, 0xC6, 0xC6, 0x1E, 0x66, 0xC6, 0xCE, 0x73,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x6C, 0x38, 0x00,
	0x7C, 0xC6, 0xC6, 0x1E, 0x66, 0xC6, 0xCE, 0x73, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC6, 0xC0,
	0xC0, 0xC2, 0x66, 0x3C, 0x38, 0x0C, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x18, 0x3C, 0x66, 0x00, 0x3C, 0x66, 0xC6, 0xFE, 0xC0, 0xC0, 0x62, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x6C, 0x6C, 0x00,
	0x3C, 0x66, 0xC6, 0xFE, 0xC0, 0xC0, 0x62, 0x3C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x60, 0x70, 0x18, 0x00, 0x3C, 0x66, 0xC6, 0xFE,
	0xC0, 0xC0, 0x62, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x6C, 0x6C, 0x00, 0x00, 0x78, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7E,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x6C, 0x00, 0x00,
	0x78, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x60, 0x70, 0x18, 0x00, 0x00, 0x78, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x7E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x66, 0x66, 0x00,
	0x38, 0x18, 0x18, 0x3C, 0x2C, 0x2C, 0x26, 0x7E, 0x46, 0x43, 0xC3, 0xE7,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x38, 0x6C, 0x38, 0x10, 0x38, 0x18, 0x3C,
	0x2C, 0x2C, 0x26, 0x7E, 0x46, 0x43, 0xC3, 0xE7, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x07, 0x0C, 0x10, 0xFF, 0x63, 0x61, 0x60, 0x64, 0x7C, 0x64,
	0x60, 0x61, 0x63, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x6E, 0xDB, 0x9B, 0x3F, 0x78, 0xD8, 0xDB, 0x6E,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x1B, 0x39, 0x28,
	0x2A, 0x2E, 0x2A, 0x78, 0x48, 0x49, 0xCB, 0xEF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x66, 0x00, 0x3C, 0x66, 0xC3, 0xC3,
	0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x66, 0x66, 0x00, 0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0xC3, 0x66, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x38, 0x0C, 0x00,
	0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x6C, 0x00, 0xEE, 0x66, 0x66, 0x66,
	0x66, 0x66, 0x6E, 0x3B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x60, 0x70, 0x18, 0x00, 0xEE, 0x66, 0x66, 0x66, 0x66, 0x66, 0x6E, 0x3B,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x66, 0x66, 0x00,
	0xF7, 0x62, 0x62, 0x34, 0x34, 0x18, 0x18, 0x10, 0x10, 0xA0, 0xE0, 0x00,
	0x00, 0x66, 0x66, 0x00, 0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3,
	0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x66, 0x66, 0x00,
	0xF7, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x62, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x02, 0x3C,
	0x66, 0xCE, 0xC8, 0xD0, 0xD2, 0x66, 0x7C, 0xC0, 0xC0, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x0E, 0x19, 0x33, 0x33, 0x30, 0x30, 0xFE, 0x18,
	0x18, 0x79, 0xBF, 0xEE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xF7, 0x62, 0x62, 0x24, 0x34, 0xFF, 0x18, 0x18, 0xFF, 0x18, 0x18, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF8, 0xCC, 0xF8, 0xC0, 0xC0, 0x00,
	0x7E, 0x18, 0x18, 0x18, 0x18, 0x00, 0x1F, 0x30, 0x1E, 0x07, 0x3E, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x07, 0x0B, 0x18, 0x18, 0x7E, 0x18, 0x18, 0x18,
	0x18, 0x18, 0xD8, 0xF0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x0E, 0x18, 0x00, 0x7C, 0xC6, 0xC6, 0x1E, 0x66, 0xC6, 0xCE, 0x73,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0C, 0x1C, 0x30, 0x00, 0x00,
	0x78, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x7E, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x06, 0x0E, 0x18, 0x00, 0x3C, 0x66, 0xC3, 0xC3,
	0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x06, 0x0E, 0x18, 0x00, 0xEE, 0x66, 0x66, 0x66, 0x66, 0x66, 0x6E, 0x3B,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x72, 0x9C, 0x00,
	0xDC, 0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0xEF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x72, 0x9C, 0x00, 0xC7, 0x62, 0x62, 0x72, 0x52, 0x5A, 0x4A,
	0x4E, 0x46, 0x46, 0xE2, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7C,
	0xC6, 0x1E, 0x66, 0xCE, 0x76, 0x00, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7C, 0xC6, 0xC6, 0xC6, 0xC6,
	0x7C, 0x00, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x08, 0x1C, 0x08, 0x00, 0x08, 0x0C, 0x18, 0x30,
	0x64, 0x6E, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xC0, 0xC0, 0xC0, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0xFF, 0xFF, 0x03, 0x03, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x20, 0x60, 0xE0, 0x60, 0x66, 0x6C, 0xF8, 0x30, 0x6E,
	0xDB, 0x9B, 0x03, 0x06, 0x0C, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20,
	0x60, 0xE0, 0x60, 0x66, 0x6C, 0xF8, 0x32, 0x66, 0xD6, 0x96, 0x36, 0x3F,
	0x06, 0x06, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x38, 0x10, 0x00,
	0x10, 0x10, 0x10, 0x38, 0x38, 0x38, 0x38, 0x38, 0x10, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x33, 0x66, 0xCC,
	0xCC, 0x66, 0x33, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0xCC, 0x66, 0x33, 0x33, 0x66, 0xCC, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x11, 0x24, 0x88, 0x42, 0x11, 0x24, 0x88, 0x42,
	0x11, 0x24, 0x88, 0x42, 0x11, 0x24, 0x88, 0x42, 0x11, 0x24, 0x88, 0x42,
	0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA,
	0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0x55, 0xAA, 0xEE, 0xDB, 0x77, 0xBD,
	0xEE, 0xDB, 0x77, 0xBD, 0xEE, 0xDB, 0x77, 0xBD, 0xEE, 0xDB, 0x77, 0xBD,
	0xEE, 0xDB, 0x77, 0xBD, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0xF8, 0xF8, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0xF8, 0xF8, 0x18, 0xF8, 0xF8, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0xF6, 0xF6, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFE, 0xFE, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0xF8, 0xF8, 0x18, 0xF8, 0xF8, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0xF6,
	0xF6, 0x06, 0xF6, 0xF6, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0xFE, 0xFE, 0x06, 0xF6, 0xF6, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0xF6,
	0xF6, 0x06, 0xFE, 0xFE, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0xFE, 0xFE, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0xF8, 0xF8, 0x18, 0xF8, 0xF8, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0xF8, 0xF8, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1F, 0x1F, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0xFF, 0xFF, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1F, 0x1F, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0xFF, 0xFF, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1F, 0x1F, 0x18, 0x1F, 0x1F,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x37, 0x37, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x37,
	0x37, 0x30, 0x3F, 0x3F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x3F, 0x30, 0x37, 0x37,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0xF7, 0xF7, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF,
	0xFF, 0x00, 0xF7, 0xF7, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x37, 0x37, 0x30, 0x37, 0x37,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0xF7,
	0xF7, 0x00, 0xF7, 0xF7, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0xFF, 0xFF, 0x00, 0xFF, 0xFF,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF,
	0xFF, 0x00, 0xFF, 0xFF, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x3F, 0x3F, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x1F,
	0x1F, 0x18, 0x1F, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1F, 0x1F, 0x18, 0x1F, 0x1F,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x3F, 0x3F, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x36, 0xFF, 0xFF, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36, 0x36,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0xFF, 0xFF, 0x18, 0xFF, 0xFF,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0xF8, 0xF8, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x1F, 0x1F, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0,
	0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0, 0xF0,
	0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F,
	0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0x0F, 0xFF, 0xFF, 0xFF, 0xFF,
	0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x39, 0x6D, 0xC7, 0xC6, 0xC6, 0xC6, 0xCF, 0x73, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x0E, 0x1B, 0x13, 0x33, 0x26, 0x3C, 0x7E, 0x47,
	0x43, 0xC3, 0xC7, 0xBE, 0x80, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0xFF, 0x63, 0x61, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0x60, 0xF0,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x7F, 0xFE, 0xA4, 0x24, 0x66, 0xE6, 0xC6, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0xFF, 0xC3, 0x61, 0x30, 0x18, 0x0C, 0x08, 0x10,
	0x20, 0x41, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x3F, 0x78, 0xEC, 0xCC, 0xCC, 0xCC, 0xD8, 0x70,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x66, 0x66, 0x66, 0x66, 0x66, 0x66, 0x6E, 0x5B, 0x40, 0xC0, 0xC0, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0xFE, 0x90, 0x20,
	0x20, 0x30, 0x38, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x3C, 0x18, 0x18, 0x7E, 0xDB, 0xDB, 0xDB, 0xDB, 0x7E, 0x18, 0x18, 0x3C,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC3, 0xC3,
	0xC3, 0xFF, 0xFF, 0xC3, 0xC3, 0xC3, 0x66, 0x3C, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x3C, 0x66, 0xC3, 0xC3, 0xC3, 0xC3, 0x42, 0x66,
	0x24, 0xA5, 0xE7, 0xE7, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x3C, 0x66, 0x60, 0x30, 0x18, 0x3C, 0x66, 0xC6, 0xC6, 0xC6, 0x6C, 0x38,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x66, 0xFF, 0x9D, 0xB9, 0xFF, 0x66, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x04, 0x3C, 0x66, 0xCB, 0xCB,
	0xD3, 0xD3, 0x66, 0x3C, 0x40, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x3F, 0x60, 0xC0, 0xFF, 0xC0, 0x60, 0x3F, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x7E, 0xE7, 0xC3,
	0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0xC3, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFF, 0xFF, 0x00, 0xFF, 0xFF,
	0x00, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x18, 0x18, 0xFF, 0xFF, 0x18, 0x18, 0x00, 0xFF, 0xFF, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0xF0,
	0x3C, 0x0F, 0x0F, 0x3C, 0xF0, 0xC0, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, 0x0F, 0x3C, 0xF0, 0xF0, 0x3C,
	0x0F, 0x03, 0xFF, 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x0F,
	0x0B, 0x1B, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18,
	0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0x18, 0xD0, 0xF0, 0x60, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x18, 0x00, 0xFF, 0xFF,
	0x00, 0x18, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x72, 0xFE, 0x9C, 0x00, 0x72, 0xFE, 0x9C, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0xCC, 0xCC, 0xCC, 0x78, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x1C, 0x3E, 0x3E, 0x3E,
	0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x3C, 0x3C, 0x18, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x01, 0x01, 0x01, 0x02, 0x02,
	0x02, 0x04, 0x24, 0xE4, 0x68, 0x68, 0x68, 0x30, 0x30, 0x30, 0x30, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x4C, 0xD6, 0x66, 0x66, 0x66, 0x66, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3C, 0x66,
	0x66, 0x06, 0x0C, 0x18, 0x36, 0x7E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7F, 0x7F, 0x7F,
	0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x7F, 0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};


int marqcounter, nchars=113;
uint8_t chars[128] = "there was a string but I do not want to keep it there. Until now i was the tsurupe....    ";

void __attribute__((interrupt)) UART2_IntHandler(void) {
	if (JL_UART2->CON0 & (1<<14)) {
		JL_UART2->CON0 |= (1<<12);	/* clr rx int */

		char ch = JL_UART2->BUF;
		if (ch == '\r' || ch == '\n') {
			nchars = 0;
		} else if (ch == '\b' || ch == '\x7f') {
			if (nchars > 0)
				nchars--;
		} else {
			marqcounter = 0;
			if (nchars < sizeof(chars))
				chars[nchars++] = ch;
		}
	}
}

void __attribute__((interrupt)) Timer4_IntHandler(void) {
	JL_TIMER4->CON |= (1<<14);	/* clr int */

	{
		uint32_t tmp;
		asm ("%0 = cnum" : "=r"(tmp));
		xprintf("cnum=%u\n", tmp);
	}

	if (nchars > 0) {
		marqcounter++;

		dbi_select(1);

		dbi_send_cmd(0x3A);
		dbi_send_data(0x05);

		dbi_send_cmd(0x36);
		dbi_send_data(
			(0 << 7)|	/* MY    - reverse Y axis direction (memory write) */
			(1 << 6)|	/* MX    - reverse X axis direction (memory write) */
			(1 << 5)|	/* MV    - swap X/Y axis (memory write) */
			(0 << 3)	/* BGR   - swap R/B channels */
		);

		for (int xp = 0; xp < 160; xp += 8) {
			uint16_t blk[20][8];

			for (int x = 0; x < 8; x++) {
				int ax = xp + x;
				int cax = ax + marqcounter;

				for (int y = 0; y < 20; y++) {
					blk[y][x] =
						Aixoid_9x20[y + chars[(cax / 8) % nchars] * 20] & (0x80 >> (cax % 8))
						? 0xff07
						: 0x0000;
				}
			}

			dbi_setwindow(xp, 24, 8, 20);
			dbi_send_cmd(0x2C);
			dbi_send_data_buff(blk, sizeof blk);
		}

		dbi_select(0);
	}
}



void JieLi(uint32_t args[4]) {
	reg_wsmask(JL_CLOCK->CLK_CON1, 10, 0x3, 0x0);	/* uart_clk = pll_48m */

	JL_UART2->CON0 = 1;
	JL_UART2->BAUD = (48000000 / 4 / 115200) - 1;

	reg_wsmask(JL_IOMAP->CON1, 14, 0x3, 'A'-'A');
	reg_wsmask(JL_IOMAP->CON3, 8, 0x7, 0x0);
	JL_IOMAP->CON3 |= (1<<11);

	JL_PORTA->DIR &= ~(1<<3);	/* PA3 out */
	JL_PORTA->DIE |= (1<<4);	/* PA4 digital in en */
	JL_PORTA->PU |= (1<<4);		/* PA4 pullup */

	xdev_out(uputc);
	xputs("\n\nhello br25\n");

	/*---------------------------------------------------*/

	xprintf("%08x\n", JL_SYSTEM->CHIP_ID);

	init_sfc();
	init_display();

	#if 1
	/* draw stuff!! */
	dbi_select(1);

	dbi_send_cmd(0x3A);
	dbi_send_data(0x05);

	dbi_send_cmd(0x36);
	dbi_send_data(
		(0 << 7)|	/* MY    - reverse Y axis direction (memory write) */
		(0 << 6)|	/* MX    - reverse X axis direction (memory write) */
		(0 << 5)|	/* MV    - swap X/Y axis (memory write) */
		(0 << 3)	/* BGR   - swap R/B channels */
	);

	dbi_setwindow(0, 24, 80, 160);

	dbi_send_cmd(0x2C);
	dbi_send_data_buff((void *)0x1000000 + (160*80*2+8)*0 + 8, 160*80*2);

	dbi_select(0);
	#endif

	#if 1
	/* UART2 IRQ */
	irq_attach(20, UART2_IntHandler, 0);
	JL_UART2->CON0 |= (1<<3);

	/* Timer4 */
	irq_attach(54, Timer4_IntHandler, 0);
	JL_TIMER4->CON = (1<<14)|(2<<6)|(0<<4);
	JL_TIMER4->CNT = 0;
	JL_TIMER4->PRD = 48000000 / 256 / 1 / 20;
	JL_TIMER4->CON |= (1<<0);
	#endif
}
